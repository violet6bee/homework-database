Описание проекта: Структура базы данных предназначена для управления информацией о сотрудниках, их ролях, департаментах, проектах и задачах. Она состоит из пяти таблиц: Departments, Roles, Employees, Projects и Tasks.

Таблицы Employees, Projects, и Tasks связаны между собой через внешние ключи, что позволяет интегрировать данные о сотрудниках, их задачах и проектах. ManagerID в Employees позволяет создать иерархическую структуру управления, связывая сотрудников с их менеджерами.
DepartmentID связывает Employees с соответствующими департаментами, а также проекты с организацией в рамках определенного департамента. RoleID связывает сотрудников с их ролями, что позволяет классифицировать их функции внутри компании.

Данная структура базы данных обеспечивает четкое управление данными о департаментах, ролях сотрудников, их проектах и задачах. Это позволяет эффективно организовывать, отслеживать и управлять ресурсами и задачами в компании, что является ключевым для успешного функционирования и достижения бизнес-целей.

1. Создадим БД departments.
2. Создадим таблицы, запустив скрипт из файла Databases/Departments/create_tables.sql.
3. Наполним таблицы данными с помощью скрипта Databases/Departments/insert_data.sql.

Задача 1.
Условие

Найти всех сотрудников, подчиняющихся Ивану Иванову (с EmployeeID = 1), включая их подчиненных и подчиненных подчиненных. Для каждого сотрудника вывести следующую информацию:

EmployeeID: идентификатор сотрудника.
Имя сотрудника.
ManagerID: Идентификатор менеджера.
Название отдела, к которому он принадлежит.
Название роли, которую он занимает.
Название проектов, к которым он относится (если есть, конкатенированные в одном столбце через запятую).
Название задач, назначенных этому сотруднику (если есть, конкатенированные в одном столбце через запятую).
Если у сотрудника нет назначенных проектов или задач, отобразить NULL.
Требования:

Рекурсивно извлечь всех подчиненных сотрудников Ивана Иванова и их подчиненных.
Для каждого сотрудника отобразить информацию из всех таблиц.
Результаты должны быть отсортированы по имени сотрудника.
Решение задачи должно представлять из себя один sql-запрос и задействовать ключевое слово RECURSIVE.

Решение:
Размещено в скрипте Databases/Departments/task1.sql.

Задача 2
Условие

Найти всех сотрудников, подчиняющихся Ивану Иванову с EmployeeID = 1, включая их подчиненных и подчиненных подчиненных. Для каждого сотрудника вывести следующую информацию:

EmployeeID: идентификатор сотрудника.
Имя сотрудника.
Идентификатор менеджера.
Название отдела, к которому он принадлежит.
Название роли, которую он занимает.
Название проектов, к которым он относится (если есть, конкатенированные в одном столбце).
Название задач, назначенных этому сотруднику (если есть, конкатенированные в одном столбце).
Общее количество задач, назначенных этому сотруднику.
Общее количество подчиненных у каждого сотрудника (не включая подчиненных их подчиненных).
Если у сотрудника нет назначенных проектов или задач, отобразить NULL.


Решение:
Размещено в скрипте Databases/Departments/task2.sql.

Задача 3
Условие

Найти всех сотрудников, которые занимают роль менеджера и имеют подчиненных (то есть число подчиненных больше 0). Для каждого такого сотрудника вывести следующую информацию:

EmployeeID: идентификатор сотрудника.
Имя сотрудника.
Идентификатор менеджера.
Название отдела, к которому он принадлежит.
Название роли, которую он занимает.
Название проектов, к которым он относится (если есть, конкатенированные в одном столбце).
Название задач, назначенных этому сотруднику (если есть, конкатенированные в одном столбце).
Общее количество подчиненных у каждого сотрудника (включая их подчиненных).
Если у сотрудника нет назначенных проектов или задач, отобразить NULL.


Решение:
Размещено в скрипте Databases/Departments/task3.sql.